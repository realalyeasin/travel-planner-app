!function(t){var e={};function n(a){if(e[a])return e[a].exports;var o=e[a]={i:a,l:!1,exports:{}};return t[a].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=e,n.d=function(t,e,a){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(a,o,function(e){return t[e]}.bind(null,o));return a},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=1)}([function(t,e,n){},function(t,e,n){"use strict";n.r(e);const a=document.getElementById("result");n(0);!function(){document.getElementById("submit").addEventListener("click",()=>{const a=document.getElementById("location-name").value;o("http://api.geonames.org/searchJSON?q=",a,"ayatullah81").then(a=>{const o={lang:a[0].lng,lat:a[0].lat,cityName:a[0].name,countryName:a[0].countryName,countryCode:a[0].countryCode};n("https://api.weatherbit.io/v2.0/forecast/daily?","454cfaf9928d4266b565ee6114d23497",o).then(n=>{const a=function(t){const e=document.getElementById("date").value;let n,a;const o=t.city_name;return t.data.forEach((t,o)=>{t.datetime==e&&(n=t,a=o+1)}),{low_temp:n.low_temp,max_temp:n.max_temp,leave_time:n.datetime,weather_des:n.weather.description,days_left:a,city_name:o}}(n);e(a).then(()=>{t()})})})});const t=async()=>{let t=await fetch("http://localhost:3000/get-back-data");t=await t.json();let e=await fetch("https://pixabay.com/api/?key=16563376-59039a46c4ae4ad26636ed1c1&q="+t.city_name);var n,o;e=await e.json(),n=t,o=e.hits[0].webformatURL,a.innerHTML=`<h2 class="title">My Tript to: ${n.city_name} <br/>Depurting date: ${n.leave_time}</h2>\n                                    <div id=img><img src =${o}></div>\n                                    <h3>Days left: ${n.days_left} days</h3>\n                                    <p>temp-low: ${n.low_temp}</p>\n                                    <p>temp-high: ${n.max_temp}</p>\n                                    <p>${n.weather_des}</p>`},e=async(t={})=>{await fetch("http://localhost:3000/add",{method:"POST",credentials:"same-origin",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})};let n=async(t,e,n)=>{const a=await fetch(t+"lat="+n.lat+"&lon="+n.lang+"&country="+n.countryCode+"&key="+e);try{return await a.json()}catch(t){console.log(t)}},o=async(t,e,n)=>{const a=await fetch(t+e+"&maxRows=5&username="+n);try{let t=await a.json();return t=t.geonames,t}catch(t){console.log(t)}}}()}]);